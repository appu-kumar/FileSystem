<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File System</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        section .container {
            width: 90vw;
            margin: auto;
            border: 1px solid red;

        }

        section .container #btn {
            text-align: center;
            padding: 10px;
            background-color: blue;
            border-radius: 20px;
            color: white;
            display: block;
            margin: auto;
            margin-top: 30px;
            margin-bottom: 30px;

        }

        section .container h1 {
            text-align: center;
        }

        section .container #typesContainer {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;

        }
    </style>
</head>

<body>
    <section>
        <div class="container">
            <h1>Welcome To The File Management System</h1>
            <button id="btn">File System</button>
            <div id="typesContainer"> <!-- append types of the files-->
            </div>
        </div>
    </section>
</body>

</html>

<script>

    const files = [
        'document1.txt', 'presentation1.pdf', 'song1.mp3', 'installer1.exe', 'archive1.rar',
        'report1.docx', 'image1.jpg', 'graphic1.png', 'animation1.gif', 'compressed1.zip',
        'document2.txt', 'presentation2.pdf', 'song2.mp3', 'installer2.exe', 'archive2.rar',
        'report2.docx', 'image2.jpg', 'graphic2.png', 'animation2.gif', 'compressed2.zip',
        null, 'presentation3.pdf', '', 'installer3.exe', 'archive3.rar',
        'report3.docx', 'image3.jpg', 'graphic3.png', 'animation3.gif', 'compressed3.zip',
        'document4.txt', 'presentation4.pdf', 'song4.mp3', 'installer4.exe', 'archive4.rar',
        'report4.docx', 'image4.jpg', 'graphic4.png', 'animation4.gif', 'compressed4.zip',
        'document5.txt', 'presentation5.pdf', 'song5.mp3', 'installer5.exe', 'archive5.rar',
        'report5.docx', 'image5.jpg', 'graphic5.png', 'animation5.gif', 'compressed5.zip',
        'document6.txt', 'presentation6.pdf', 'song6.mp3', 'installer6.exe', 'archive6.rar',
        'report6.docx', 'image6.jpg', null, 'animation6.gif', 'compressed6.zip',
        'document7.txt', 'presentation7.pdf', 'song7.mp3', 'installer7.exe', 'archive7.rar',
        'report7.docx', 'image7.jpg', 'graphic7.png', 'animation7.gif', 'compressed7.zip',
        'document8.txt', 'presentation8.pdf', 'song8.mp3', 'installer8.exe', 'archive8.rar',
        'report8.docx', 'image8.jpg', '', 'animation8.gif', 'compressed8.zip',
        'document9.txt', 'presentation9.pdf', 'song9.mp3', 'installer9.exe', 'archive9.rar',
        'report9.docx', 'image9.jpg', '', 'animation9.gif', 'compressed9.zip',
        'document10.txt', 'presentation10.pdf', 'song10.mp3', 'installer10.exe', 'archive10.rar',
        'report10.docx', 'image10.jpg', 'graphic10.png', 'animation10.gif', 'compressed10.zip',
    ];

    function getFileData(files) {

        let fileData = [];
        files.forEach(function (file, idx) {
            if (file != null) {
                let nameAndType = file.split(".");
                obj = {};
                obj["id"] = idx;
                obj["name"] = nameAndType[0] != undefined ? nameAndType[0] : null;
                obj["type"] = nameAndType[1] != undefined ? nameAndType[1] : null;
                fileData[idx] = obj;
            }
        })
        return fileData;
    }
    function getTotalFiles() {
        let typesOfFiles = {};
        let fileData = getFileData(files);
        fileData.forEach(function (file) {
            if (typesOfFiles[file.type] != null)
                typesOfFiles[file.type]++;
            else
                typesOfFiles[file.type] = 1;
        })

        return typesOfFiles;
    }

    function createTag(tag) {
        return document.createElement(tag);
    }
    let divEle = null;
    let filebtn = document.querySelector("#btn").addEventListener('click', function () {
        let totalFiles = getTotalFiles();
        let cont = document.getElementById("typesContainer");
        for (let key in totalFiles) {
            if (key != null) {
                divEle = createTag("div");
                divEle.style.width = "60px";
                divEle.style.height = "60px";
                divEle.style.backgroundColor = "blue"
                divEle.style.borderRadius = "1px solid black";
                divEle.className = "file";
                divEle.id = `${key}`;
                divEle.innerText = `${key}`;
                divEle.style.fontSize = "40px";
                divEle.style.padding = "70px"
                cont.append(divEle);
            }
        }
        let type = document.getElementById("typesContainer");
        let pdf = document.getElementById('txt').addEventListener('click', function (e) {
            type.innerHTML = null;
            let ol = createTag("ol");
            let fileData = getFileData(files);
            fileData.forEach(function (file) {

                if (file.type === 'txt') {
                    let li = createTag("li");
                    li.style.backgroundColor = "blue";
                    li.style.color = "white"
                    let p1 = createTag("p");
                    let p2 = createTag("p");
                    let p3 = createTag("p");
                    // p1.innerText=`${file.id}`;
                    p2.innerText = `${file.name}`;
                    p3.innerText = `${file.type}`;
                    li.append(p1, p2, p3);
                    li.style.padding = "10px"
                    ol.append(li);
                }
            })

            type.append(ol);
        })



    })
</script>